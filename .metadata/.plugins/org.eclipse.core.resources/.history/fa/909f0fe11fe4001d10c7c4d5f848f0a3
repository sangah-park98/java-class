package com.tjoeun.syncronizedMethodTest;

import java.util.ArrayList;

public class Library2 {
	
	ArrayList<String> bookList2 = new ArrayList<>();
	
	public Library2() {
		bookList2.add("다빈치 코드");
		bookList2.add("천사와 악마");
		bookList2.add("디지털 포트리스");
		bookList2.add("라스트 심볼");
		bookList2.add("타나토노트");
		bookList2.add("개미");
	}
	
//	도서 대여 메소드
	public String lendBook() {
		Thread thread = new Thread();
		if(bookList2.size() ==0) {
			System.out.println(thread.getName() + " 대기 시작");
		} 
		try {
			wait();
			System.out.println(thread.getName() + " 대기 종료");
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		
		try {
			String book = bookList2.remove(0);
			
			System.out.println(thread.getName() + book + " 대여");
			return book;
			
		} catch(IndexOutOfBoundsException e) {
			System.out.println(thread.getName() + "는(은) 책을 빌리지 못했습니다.");
			return null;
		}
	}
//	도서 반납 메소드
	public void returnBook(String book) {
		
		Thread thread = new Thread();
		
		bookList2.add(book);
		
		notify();
		System.out.println(thread.getName() + ": " + book + "반납 완료");
		
	}
	
}
	
	

