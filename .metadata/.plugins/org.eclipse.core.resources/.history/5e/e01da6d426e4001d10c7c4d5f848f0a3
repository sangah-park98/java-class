package com.tjoeun.dbTest;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class MySQLConnectionTest3 {
	
	public static void main(String[] args) {
		
 /*
  JDBC는 자바를 이용해서 데이터베이스에 연결하는 기술이다.
  데이터베이스 작업에 사용할 객체를 우선 선언한다.
  null로 일단 선언 먼저
  객체 선언하고 만들어진 객체에 데이터베이스를 연결하고 각자 함수에 따라
  쿼리도 실행하고
  동적 쿼리 실행하고
  마지막 resultset으로 결과값을 기억한다.
  */
		
		Connection conn = null;
		Statement stmt = null;
		PreparedStatement pstmt = null;
		ResultSet rs = null;
//		읽어온다 -> 연결한다 
		try {
			Class.forName("com.mysql.jdbc.Driver"); // 드라이버 클래스를 읽어온다.
			String url = "jdbc:mysql://localhost:3306/javaam";
			conn = DriverManager.getConnection(url, "root", "0000");
			
			System.out.println("연결성공: " + conn);
			
		} catch (ClassNotFoundException e) {
			System.out.println("드라이버 클래스가 없거나 읽어올 수 없습니다.");
		} catch (SQLException e) {
			System.out.println("데이터베이스 접속 정보가 올바르지 않습니다.");
		} finally {
			if(conn !=null) {try {conn.close();} catch (SQLException e) {e.printStackTrace();}}
			if(stmt !=null) {try {stmt.close();} catch (SQLException e) {e.printStackTrace();}}
			if(pstmt !=null) {try {pstmt.close();} catch (SQLException e) {e.printStackTrace();}}
			if(rs !=null) {try {rs.close();} catch (SQLException e) {e.printStackTrace();}}
		}
		
	}
}
		
