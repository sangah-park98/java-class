package com.tjoeun.networkTest2;

import java.io.IOException;
import java.io.PrintWriter;
import java.net.Socket;
import java.net.UnknownHostException;
import java.util.Scanner;

public class Client2 {
   
   public static void main(String[] args) {
      
     Socket socket = null;
     PrintWriter printWriter = null; // 데이터 보내기
     Scanner scanner = null; // 읽기
     Scanner scan = null; // 쓰기
     
     try {
		socket = new Socket("192.168.0.2", 10004);
		System.out.print("192.168.0.2 서버의 10004번 포트로 접속");
		System.out.println("접속 성공" + socket);
		
		printWriter = new PrintWriter(socket.getOutputStream());
		scanner = new Scanner(socket.getInputStream());
		scan = new Scanner(System.in);
		
		System.out.println(scanner.nextLine());
		String msg = "";
		do {
			System.out.print("client >> ");
			msg = scan.nextLine().trim();
			printWriter.write(msg + "\n");
			printWriter.flush();
			
			if(msg.toUpperCase().equals("BYE")){
				break;
			}
			msg = scanner.nextLine();
			System.out.print("server >> " + msg);
			
		} while(!msg.toUpperCase().equals("BYE"));
		
		
	} catch (UnknownHostException e) {
		e.printStackTrace();
	} catch (IOException e) {
		e.printStackTrace();
	} finally {
		if(socket != null) {try {socket.close();} catch (IOException e) {e.printStackTrace();}}
	}
     
   }

}