package com.tjoeun.dbTest;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.Scanner;

import com.tjoeun.DBUtil;

public class InsertTest {

	public static void main(String[] args) {
		
//		테이블에 저장할 데이터를 키보드로 입력받는다.
		Scanner scanner = new Scanner(System.in);
		System.out.print("이름: ");
		String name = scanner.nextLine().trim();
		System.out.print("비밀번호: ");
		String password = scanner.nextLine().trim();
		System.out.print("메모: ");
		String memo = scanner.nextLine().trim();
		
//		데이터베이스 작업에 사용할 객체를 선언한다.
		Connection conn = null; //DB랑 연결해야 하므로 무조건 있어야 함
		Statement stmt = null;
		PreparedStatement pstmt= null;
		
//		mysql에 연결한다.
		conn = DBUtil.getMySQLConnection(); 
		if(conn !=null) {
//			System.out.println("연결성공" + conn);
//			mysql에 정상적으로 연결이 되었으므로 입력받은 데이터를 테이블에 저장한다.
			
//			Statement를 사용해서 입력받은 데이터를 테이블에 저장한다.
//			sql 명령을 만든다.
//			문자열은 반드시 작은따옴표로 묶어야하고 문장 끝에 ";"을 입력하면 안된다.
//			String sql = "insert into memo(name, password, memo) values ('" + name +  "', '" + password +"', '" + memo + "')";
			String sql = String.format("insert into memo(name, password, memo) values ('%s', '%s', '%s')", name, password, memo);
			System.out.println(sql);
		} else {
			System.out.println("연결실패");
		}
		
		
		
		
	}
}
